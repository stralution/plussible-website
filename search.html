<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plussible - Search Result</title>
    <link rel="icon" href="/plussible/plussible%20logo/rounded_favicon%202.png" sizes="32x32" type="image/png">
    <link rel="icon" href="/plussible/plussible%20logo/rounded_favicon_64.png" sizes="64x64" type="image/png">
    <link rel="stylesheet" href="styles/sign-in.css">
    <script src="scripts/user-location/location.js"></script>
    <script src="scripts/footer/footer.js"></script>
    <style>
/* --- KEEP YOUR ORIGINAL CSS BELOW (EXCEPT OLD SEARCH BOX PART) --- */

body {
  font-family: Arial, sans-serif;
  background-color: #f8f9fa;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

header.sticky-header {
  position: sticky;
  top: 0;
  background-color: #fff;
  justify-content: space-between; 
  border-bottom: 1px solid #ddd;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  z-index: 1000;
  padding: 20px;
  display: flex;
  align-items: center;
}

header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 20px;
}

.header-logo img {
  height: 50px;
  cursor: pointer;
}

.header-button {
  background: none;
  border: none;
  color: #0092FF;
  font-size: 16px;
  cursor: pointer;
  text-decoration: none;
  padding: 0;
  font-weight: normal;
}

.header-button:hover {
  text-decoration: none;
  color: #0056b3;
}

.container {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 20px;
}

.sub-heading {
  font-size: 24px;
  margin-top: 5px;
  margin-bottom: -12px;
  color: #333;
}

.zip-code {
  font-size: 18px;
  color: gray;
  margin-bottom: 20px;
  margin-top: 24px;
}

.offer-list {
  display: grid;
  grid-template-columns: 1fr;
  gap: 20px;
}

.offer-card {
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  align-items: center;
  padding: 20px;
  border: 1px solid #ccc;
  border-radius: 10px;
  background-color: #ffffff;
  transition: transform 0.3s, box-shadow 0.3s;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  min-height: 200px;
}

.offer-card:hover {
  transform: translateY(-10px);
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
}

.offer-card .left, .offer-card .right, .offer-card .middle {
  flex: 1;
  padding: 10px;
}

.offer-card .left {
  padding-right: 20px;
}

.offer-card .right {
  padding-left: 20px;
  text-align: right;
}

.offer-card .price {
  font-size: 36px;
  font-weight: bold;
  color: black;
}

.offer-card .service {
  font-size: 24px;
  font-weight: none;
  margin-top: 10px;
  color: red;
}

.offer-card .details {
  font-size: 16px;
  margin: 5px 0;
  color: #666;
}

.offer-card .details:last-of-type {
  margin-bottom: 20px;
}

.offer-card .engage-btn {
  background-color: #0092FF;
  color: white;
  padding: 10px 20px;
  text-align: center;
  border-radius: 5px;
  text-decoration: none;
  margin-top: 20px;
  transition: background-color 0.3s;
  white-space: nowrap;
}

.offer-card .engage-btn:hover {
  background-color: #0056b3;
}

.offer-card img {
  width: 200px;
  height: 150px;
  border-radius: 10px;
  margin-right: 20px;
}

.offer-name {
  font-size: 22px;
  font-weight: bold;
  color: #333;
  margin-bottom: 5px;
  text-align: center;
}

.offer-chat {
  display: flex;
  justify-content: center;
  margin-bottom: 10px;
}

.offer-chat button {
  padding: 8px 16px;
  font-size: 14px;
  border: none;
  border-radius: 5px;
  background-color: #ffffff;
  color: #28a745;
  transition: background-color none;
  margin-bottom: none;
}

/* .offer-chat button:hover {
  background-color: #218838;
}
*/
.offer-rating {
  display: flex;
  justify-content: center;
  align-items: center;
  margin-bottom: 10px;
}

.offer-rating span {
  margin-left: 5px;
  font-size: 16px;
  color: #666;
}

.offer-reviews {
  font-size: 14px;
  color: #999;
  text-align: center;
}

/* --- Plussible Search Box Styles --- */
.search-box {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 100%;
  max-width: 600px;
  position: relative;
  margin-bottom: 14px;
  margin-top: 5px;
}

.input-with-icon {
  position: relative;
  width: 100%;
}

.input-with-icon input[type="text"] {
  padding: 10px 10px 10px 40px;
  font-size: 18px;
  width: 100%;
  border: 1px solid #ccc;
  border-radius: 10px;
  box-sizing: border-box;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
  background-color: #fff;
  transition: box-shadow 0.2s ease;
}

.input-with-icon input[type="text"]:focus {
  outline: none;
  box-shadow: 0 0 0 2px #0092FF;
}

.search-icon {
  position: absolute;
  top: 50%;
  left: 12px;
  transform: translateY(-50%);
  font-size: 18px;
  color: #999;
  pointer-events: none;
}

/* Animated placeholder overlay inside input */
.animated-placeholder {
  position: absolute;
  top: 50%;
  left: 40px;
  transform: translateY(-50%);
  font-size: 18px;
  color: #aaa;
  font-style: italic;
  pointer-events: none;
  user-select: none;
  white-space: nowrap;
  overflow: hidden;
  max-width: calc(100% - 50px);
  border-right: 2px solid #0092FF;
  box-sizing: border-box;
  animation: blink-caret 1s step-end infinite;
  z-index: 10;
}

@keyframes blink-caret {
  from, to { border-color: transparent; }
  50% { border-color: #0092FF; }
}

/* Dropdown styles */
.dropdown {
  position: absolute;
  top: calc(100% + 4px);
  left: 0;
  right: 0;
  width: auto;
  background: #fff;
  border: 1px solid #ddd;
  border-radius: 6px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
  display: none;
  z-index: 1000;
  padding: 8px 12px;
  max-height: 250px;
  overflow-y: auto;
}

.dropdown-header {
  font-weight: 600;
  font-size: 13px;
  color: #666;
  margin-bottom: 6px;
}

.trend-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 6px 0;
  font-size: 14px;
  border-bottom: 1px solid #f4f4f4;
  cursor: pointer;
}

.trend-item:last-child {
  border-bottom: none;
}

.trend-title {
  color: #333;
}

.sparkline {
  width: 50px;
  height: 16px;
}

.sparkline polyline {
  fill: none;
  stroke: #0092FF;
  stroke-width: 1.5;
}

@media (max-width: 600px) {
  .search-box {
    max-width: 95vw;
  }
  .input-with-icon input[type="text"] {
    font-size: 16px;
    padding: 10px 10px 10px 36px;
  }
  .animated-placeholder {
    font-size: 15px;
    left: 34px;
  }
  .offer-card {
    flex-direction: column;
    text-align: center;
  }
  .offer-card .left, .offer-card .right, .offer-card .middle {
    padding: 10px;
    text-align: center;
  }
  .offer-card img {
    margin-right: 0;
    margin-bottom: 20px;
  }
}

/* FILTER, PAGINATION, MAGIC BUTTON - UNCHANGED, original! */
.filter-box {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  margin-bottom: 20px;
}

.filter-box label {
  font-size: 16px;
  margin-right: 10px;
}

.filter-box .filter-item {
  display: flex;
  align-items: center;
  margin-right: 10px;
}

.filter-box .filter-item:last-of-type {
  margin-right: 0;
}

.filter-box input[type="checkbox"] {
  margin-right: 5px;
}

.pagination {
  display: flex;
  justify-content: center;
  margin-top: 20px;
}

.pagination a {
  margin: 0 5px;
  padding: 10px 15px;
  text-decoration: none;
  color: #0092FF;
  border: 1px solid #ddd;
  border-radius: 5px;
  transition: background-color 0.3s;
}

.pagination a.active {
  background-color: #0092FF;
  color: white;
}

.pagination a:hover {
  background-color: #0056b3;
  color: white;
}

.pagination a.prev, .pagination a.next {
  font-size: 20px;
  padding: 10px 20px;
}

/* --- MAGIC: Plussible Intelligence Floating Button Styles --- */
.pi-float-btn {
  position: fixed;
  bottom: 32px;
  right: 32px;
  z-index: 1200;
  width: 74px;
  height: 74px;
  border-radius: 50%;
  background: linear-gradient(135deg, #0092FF 10%, #d6a2ff 60%, #ffe8a3 100%);
  box-shadow:
    0 0 36px 8px #8be6fd,
    0 12px 32px rgba(0,146,255,0.32),
    0 4px 16px rgba(0,0,0,0.14),
    0 8px 32px rgba(0,146,255,0.30),
    0 2px 8px rgba(0,0,0,0.07);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  overflow: visible;
  border: none;
  outline: none;
  transition: box-shadow 0.18s, transform 0.18s;
  backdrop-filter: blur(2px);
  animation: pi-pulse 3s infinite;
}

.pi-float-btn:hover, .pi-float-btn:focus {
  box-shadow:
    0 0 48px 12px #71f3ff,
    0 0 60px 24px #e1aaff66,
    0 20px 48px rgba(0,146,255,0.38),
    0 10px 36px rgba(155,89,182,0.11),
    0 2px 8px rgba(0,0,0,0.13);
  transform: translateY(-6px) scale(1.08) rotate(-2deg);
  background: linear-gradient(135deg, #0092FF 40%, #71F3FF 70%, #e1aaff 100%, #ffe8a3 120%);
}

.pi-float-btn:active {
  box-shadow: 0 0 28px 8px #9B59B6, 0 8px 20px rgba(0,0,0,0.10);
  transform: scale(0.98);
  background: linear-gradient(135deg, #0092FF 10%, #d6a2ff 60%, #ffe8a3 100%);
}

.pi-float-btn .pi-symbol {
  font-size: 2.5rem;
  font-family: 'Georgia', 'serif';
  color: #fff;
  filter: drop-shadow(0 2px 12px #71F3FF) drop-shadow(0 0px 2px #fff9);
  transition: color 0.2s;
  pointer-events: none;
  user-select: none;
}

@media (max-width: 700px) {
  .pi-float-btn {
    width: 58px;
    height: 58px;
    bottom: 14px;
    right: 14px;
  }
  .pi-float-btn .pi-symbol { font-size: 1.6rem; }
}

@keyframes pi-pulse {
  0%, 100% { box-shadow: 0 0 36px 8px #8be6fd, 0 8px 32px rgba(0,146,255,0.30); }
  60%      { box-shadow: 0 0 60px 24px #71f3ff77, 0 20px 48px rgba(0,146,255,0.32);}
}
    </style>
</head>
<body>
    <header class="sticky-header">
        <div class="header-logo">
            <img src="plussible%20logo/plussible%20logo.png" alt="Plussible Logo" style="height: 50px;">
        </div>
        <a href="sign-in.html" class="header-button">Sign In</a>
    </header>
    <div class="container">
        <div class="search-box">
          <div class="input-with-icon" style="position:relative; width:100%;">
            <span class="search-icon">üîç</span>
            <input id="search-input" type="text" autocomplete="off" />
            <!-- Animated placeholder overlay -->
            <div id="animated-placeholder" class="animated-placeholder" aria-hidden="true"></div>
            <!-- Dropdown for trending searches -->
            <div class="dropdown" style="display:none;">
              <div class="dropdown-header">üî• Trending Searches</div>
              <div class="trend-item">
                <span class="trend-title">Plumber</span>
                <svg class="sparkline" viewBox="0 0 100 20">
                  <polyline points="0,15 20,10 40,12 60,5 80,9 100,3" />
                </svg>
              </div>
              <div class="trend-item">
                <span class="trend-title">Fitness Trainer</span>
                <svg class="sparkline" viewBox="0 0 100 20">
                  <polyline points="0,12 20,14 40,10 60,6 80,5 100,4" />
                </svg>
              </div>
              <div class="trend-item">
                <span class="trend-title">Hair Stylist</span>
                <svg class="sparkline" viewBox="0 0 100 20">
                  <polyline points="0,18 20,15 40,10 60,12 80,14 100,9" />
                </svg>
              </div>
            </div>
                        <!-- REAL search button for your JS -->
            <button id="quick-search-btn" style="position:absolute; right:5px; top:50%; transform:translateY(-50%); background:#0092FF; border:none; color:white; border-radius:7px; font-size:18px; padding:6px 14px; cursor:pointer;">Go</button>
          </div>
        </div>

        <div class="sub-heading">Results for: Swedish Massage</div>
        <div class="zip-code" id="zip-code">Area: ...</div>
        <div class="filter-box">
            <label>Filter:</label>
            <div class="filter-item">
                <input type="checkbox" id="filter-lowest-price" value="lowest-price"> Lowest Price
            </div>
            <div class="filter-item">
                <input type="checkbox" id="filter-highest-price" value="highest-price"> Highest Price
            </div>
            <div class="filter-item">
                <input type="checkbox" id="filter-highest-rating" value="highest-rating"> Highest Rating
            </div>
            <div class="filter-item">
                <input type="checkbox" id="filter-most-reviews" value="most-reviews"> Most Reviews
            </div>
            <div class="filter-item">
                <input type="checkbox" id="filter-closest-distance" value="closest-distance"> Closest Distance
            </div>
        </div>
        <div id="offer-list" class="offer-list"></div>
        <div class="pagination" id="pagination"></div>
    </div>
    <footer>
      <!-- Footer content will be loaded here -->
    </footer>

    <!-- Plussible Intelligence Magic Button (Floating) -->
    <button class="pi-float-btn" id="pi-btn" aria-label="Open Plussible Intelligence">
      <span class="pi-symbol">œÄ</span>
    </button>
    <script src="scripts/search/search.js"></script>
    <script>
      // --- Magic for PI Button ---
      const piBtn = document.getElementById('pi-btn');
      piBtn.addEventListener('click', e => {
        piBtn.blur();
        alert("‚ú® Sign in to access Plussible Intelligence (œÄ). œÄ helps you quickly choose the best deal for you. ");
      });

      // ----------------- Plussible Animated Search Box Logic ----------------
      document.addEventListener("DOMContentLoaded", () => {
        const searchInput = document.getElementById('search-input');
        const animatedPlaceholder = document.getElementById('animated-placeholder');
        const dropdown = document.querySelector('.dropdown');
        const trendTitles = Array.from(document.querySelectorAll('.trend-title')).map(el => el.textContent.toLowerCase());

        // Slides for animated placeholder
        const slides = [
          "Find trusted experts",
          "Nearby or anywhere",
          "Fix my leaky pipe",
          "Mow my lawn",
          "Service my Toyota",
          "Web & app developer",
          "Female hair stylist"
        ];

        let slideIndex = 0;
        let charIndex = 0;
        let deleting = false;
        let slidePaused = false;

        function tick() {
          if (slidePaused) {
            setTimeout(tick, 300);
            return;
          }
          const fullText = slides[slideIndex];
          if (!deleting) {
            animatedPlaceholder.textContent = fullText.substring(0, charIndex + 1);
            charIndex++;
            if (charIndex === fullText.length) {
              deleting = true;
              setTimeout(tick, 500);
              return;
            }
          } else {
            animatedPlaceholder.textContent = fullText.substring(0, charIndex - 1);
            charIndex--;
            if (charIndex === 0) {
              deleting = false;
              slideIndex = (slideIndex + 1) % slides.length;
              setTimeout(tick, 500);
              return;
            }
          }
          setTimeout(tick, 70);
        }
        tick();

        // Pause animation on input focus or text present
        searchInput.addEventListener('focus', () => {
          slidePaused = true;
          animatedPlaceholder.style.display = 'none';
        });

        searchInput.addEventListener('input', () => {
          slidePaused = searchInput.value.length > 0;
          animatedPlaceholder.style.display = slidePaused ? 'none' : 'block';
        });

        searchInput.addEventListener('blur', () => {
          if (!searchInput.value) {
            slidePaused = false;
            animatedPlaceholder.style.display = 'block';
          }
        });

        // Dropdown show/hide on search input
        searchInput.addEventListener('focus', () => {
          dropdown.style.display = 'block';
        });

        searchInput.addEventListener('input', () => {
          const inputValue = searchInput.value.toLowerCase().trim();
          const matches = trendTitles.some(title => title.startsWith(inputValue));
          dropdown.style.display = matches || !inputValue ? 'block' : 'none';
          if (inputValue) {
            // Only show items that match input
            document.querySelectorAll('.trend-item').forEach(item => {
              item.style.display = item.querySelector('.trend-title').textContent.toLowerCase().startsWith(inputValue) ? '' : 'none';
            });
          } else {
            document.querySelectorAll('.trend-item').forEach(item => {
              item.style.display = '';
            });
          }
        });

        searchInput.addEventListener('blur', () => {
          setTimeout(() => dropdown.style.display = 'none', 180);
        });

        dropdown.addEventListener('mousedown', event => {
          const trendItem = event.target.closest('.trend-item');
          if (trendItem) {
            const title = trendItem.querySelector('.trend-title').textContent.trim();
            searchInput.value = title;
            dropdown.style.display = 'none';
            // You can trigger a search here if you want.
          }
        });
      });
      // ----------------------------------------------------------------------
    </script>
</body>
</html>
